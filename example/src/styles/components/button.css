/* =======================================================
   üéõÔ∏è Enhanced Button Component - Motion & Modern Design
   - Motion-powered animations with satisfying micro-interactions
   - Proper dark/light mode theming with CSS custom properties
   - Subtle, modern animations that feel responsive
   - WCAG 2.1 AA compliant contrast ratios
========================================================== */

/* =======================================================
   üé® CSS Custom Properties for Theming
========================================================== */

:root {
  /* Button Colors - Light Mode */
  --btn-primary-bg: var(--accent-primary);
  --btn-primary-bg-hover: var(--accent-hover);
  --btn-primary-text: var(--text-inverse);
  --btn-primary-border: var(--accent-primary);
  
  --btn-secondary-bg: var(--bg-elevated);
  --btn-secondary-bg-hover: var(--bg-surface);
  --btn-secondary-text: var(--text-primary);
  --btn-secondary-border: var(--border-primary);
  
  --btn-ghost-bg: transparent;
  --btn-ghost-bg-hover: var(--hover-overlay);
  --btn-ghost-text: var(--text-secondary);
  --btn-ghost-text-hover: var(--text-primary);
  
  --btn-outline-bg: transparent;
  --btn-outline-bg-hover: var(--accent-primary);
  --btn-outline-text: var(--accent-primary);
  --btn-outline-text-hover: var(--text-inverse);
  --btn-outline-border: var(--accent-primary);
  
  --btn-success-bg: var(--success);
  --btn-success-bg-hover: #00A693;
  --btn-success-text: var(--text-inverse);
  
  --btn-danger-bg: var(--error);
  --btn-danger-bg-hover: #D32F2F;
  --btn-danger-text: var(--text-inverse);
  
  /* Shadows */
  --btn-shadow: var(--shadow-sm);
  --btn-shadow-hover: var(--shadow-md);
  --btn-shadow-focus: 0 0 0 3px var(--focus-overlay);
  
  /* Transitions */
  --btn-transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  --btn-transition-fast: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

/* =======================================================
   üèóÔ∏è Base Button Styles
========================================================== */

.btn {
  /* Layout */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  
  /* Typography */
  font-family: inherit;
  font-weight: var(--font-weight-medium);
  line-height: 1;
  text-decoration: none;
  white-space: nowrap;
  
  /* Appearance */
  border: 1px solid transparent;
  border-radius: var(--radius-md);
  cursor: pointer;
  user-select: none;
  position: relative;
  overflow: hidden;
  
  /* Transitions */
  transition: var(--btn-transition);
  
  /* Performance */
  transform: translateZ(0);
  will-change: transform, box-shadow, background-color;
  
  /* Accessibility */
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* Content wrapper for proper layering */
.btn__content {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  position: relative;
  z-index: 2;
}

/* =======================================================
   üìè Button Sizes
========================================================== */

.btn--sm {
  padding: 0.5rem 0.875rem;
  font-size: var(--font-size-sm);
  min-height: 2.25rem;
  border-radius: var(--radius-sm);
}

.btn--md {
  padding: 0.625rem 1rem;
  font-size: var(--font-size-sm);
  min-height: 2.5rem;
  border-radius: var(--radius-md);
}

.btn--lg {
  padding: 0.75rem 1.5rem;
  font-size: var(--font-size-base);
  min-height: 3rem;
  border-radius: var(--radius-md);
}

/* Full width variant */
.btn--full-width {
  width: 100%;
}

/* =======================================================
   üé® Button Variants
========================================================== */

/* Primary Button */
.btn--primary {
  background-color: var(--btn-primary-bg);
  color: var(--btn-primary-text);
  border-color: var(--btn-primary-border);
  box-shadow: var(--btn-shadow);
}

.btn--primary:hover:not(:disabled) {
  background-color: var(--btn-primary-bg-hover);
  box-shadow: var(--btn-shadow-hover);
}

/* Secondary Button */
.btn--secondary {
  background-color: var(--btn-secondary-bg);
  color: var(--btn-secondary-text);
  border-color: var(--btn-secondary-border);
  box-shadow: var(--btn-shadow);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.btn--secondary:hover:not(:disabled) {
  background-color: var(--btn-secondary-bg-hover);
  border-color: var(--border-secondary);
  box-shadow: var(--btn-shadow-hover);
}

/* Ghost Button */
.btn--ghost {
  background-color: var(--btn-ghost-bg);
  color: var(--btn-ghost-text);
  border-color: transparent;
  box-shadow: none;
}

.btn--ghost:hover:not(:disabled) {
  background-color: var(--btn-ghost-bg-hover);
  color: var(--btn-ghost-text-hover);
}

/* Outline Button */
.btn--outline {
  background-color: var(--btn-outline-bg);
  color: var(--btn-outline-text);
  border-color: var(--btn-outline-border);
}

.btn--outline:hover:not(:disabled) {
  background-color: var(--btn-outline-bg-hover);
  color: var(--btn-outline-text-hover);
}

/* Success Button */
.btn--success {
  background-color: var(--btn-success-bg);
  color: var(--btn-success-text);
  border-color: var(--btn-success-bg);
  box-shadow: var(--btn-shadow);
}

.btn--success:hover:not(:disabled) {
  background-color: var(--btn-success-bg-hover);
  box-shadow: var(--btn-shadow-hover);
}

/* Danger Button */
.btn--danger {
  background-color: var(--btn-danger-bg);
  color: var(--btn-danger-text);
  border-color: var(--btn-danger-bg);
  box-shadow: var(--btn-shadow);
}

.btn--danger:hover:not(:disabled) {
  background-color: var(--btn-danger-bg-hover);
  box-shadow: var(--btn-shadow-hover);
}

/* =======================================================
   üåü Enhanced Effects
========================================================== */

/* Ripple effect */
.btn__ripple {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s ease-out, height 0.6s ease-out, opacity 0.6s ease-out;
  opacity: 0;
  pointer-events: none;
  z-index: 1;
}

/* Shine effect */
.btn__shine {
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.2),
    transparent
  );
  transition: left 0.5s ease-out;
  pointer-events: none;
  z-index: 1;
}

.btn--enhanced:hover:not(:disabled) .btn__shine {
  left: 100%;
}

/* =======================================================
   üîÑ Loading State
========================================================== */

.btn--loading {
  cursor: wait;
  pointer-events: none;
}

.btn__spinner {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 1rem;
  height: 1rem;
  margin-right: 0.5rem;
}

.btn__spinner-icon {
  width: 100%;
  height: 100%;
}

.btn__text--loading {
  opacity: 0.7;
}

/* =======================================================
   üéØ Icons
========================================================== */

.btn__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.btn__icon svg {
  width: 1rem;
  height: 1rem;
}

.btn--sm .btn__icon svg {
  width: 0.875rem;
  height: 0.875rem;
}

.btn--lg .btn__icon svg {
  width: 1.125rem;
  height: 1.125rem;
}

/* =======================================================
   ‚ôø Accessibility & States
========================================================== */

/* Focus states */
.btn:focus-visible {
  outline: none;
  box-shadow: var(--btn-shadow-focus);
}

/* Disabled state */
.btn:disabled,
.btn[aria-disabled="true"] {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
  transform: none !important;
}

/* =======================================================
   üé≠ Animations
========================================================== */

@keyframes btn-dash {
  0% {
    stroke-dasharray: 1, 150;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -35;
  }
  100% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -124;
  }
}

/* Ripple animation on click */
.btn--enhanced:active:not(:disabled) .btn__ripple {
  width: 200px;
  height: 200px;
  opacity: 1;
  transition: width 0.1s ease-out, height 0.1s ease-out, opacity 0.1s ease-out;
}

/* =======================================================
   üì± Mobile Optimizations
========================================================== */

@media (max-width: 768px) {
  .btn {
    min-height: 2.75rem; /* Larger touch targets on mobile */
  }
  
  .btn--sm {
    min-height: 2.5rem;
  }
  
  .btn--lg {
    min-height: 3.25rem;
  }
}

/* =======================================================
   üé® High Contrast Mode Support
========================================================== */

@media (prefers-contrast: high) {
  .btn {
    border-width: 2px;
  }
  
  .btn--ghost:hover {
    border-width: 2px;
    border-color: ButtonText;
  }
}

/* =======================================================
   ‚ôø Reduced Motion Support
========================================================== */

@media (prefers-reduced-motion: reduce) {
  .btn,
  .btn__ripple,
  .btn__shine {
    transition: none;
  }
  
  .btn--enhanced:hover .btn__shine {
    left: -100%;
  }
  
  .btn__spinner-icon {
    animation: none;
  }
  
  @keyframes btn-dash {
    0%, 100% {
      stroke-dasharray: none;
      stroke-dashoffset: 0;
    }
  }
}

/* =======================================================
   üé™ Button Groups
========================================================== */

.btn-group {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.btn-group .btn {
  flex: 1;
  min-width: 0;
}

@media (max-width: 480px) {
  .btn-group {
    flex-direction: column;
  }
  
  .btn-group .btn {
    width: 100%;
  }
}