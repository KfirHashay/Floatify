/* =======================================================
   ðŸŽ­ Overlay Animations
   - Optimized for Dynamic Island feel with spring timing
   - Uses transform-based animations for better performance
   - Consistent timing and easing throughout
========================================================== */

/* ðŸ”¹ Swipe Animations - optimized with transform */
@keyframes overlay-swipe-left {
    from {
        transform: translateX(0) scale(1);
        opacity: 1;
    }
    to {
        transform: translateX(-100%) scale(0.9);
        opacity: 0;
    }
}

@keyframes overlay-swipe-right {
    from {
        transform: translateX(0) scale(1);
        opacity: 1;
    }
    to {
        transform: translateX(100%) scale(0.9);
        opacity: 0;
    }
}

/* ðŸ”¹ Slide Animations for portal content */
@keyframes slide-left {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(-100%);
        opacity: 0.7;
    }
}

@keyframes slide-right {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(100%);
        opacity: 0.7;
    }
}

/* ðŸ”¹ Enhanced Pulse Animation for Alerts - with spring timing */
@keyframes alert-pulse {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 8px 24px rgba(255, 69, 58, 0.4), 0 2px 8px rgba(255, 69, 58, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
        background-color: rgba(var(--di-alert-rgb, 255, 69, 58), 0.8);
    }
    50% {
        transform: scale(1.05);
        box-shadow: 0 12px 36px rgba(255, 69, 58, 0.6), 0 4px 12px rgba(255, 69, 58, 0.4), inset 0 2px 0 rgba(255, 255, 255, 0.25);
        background-color: rgba(var(--di-alert-rgb, 255, 69, 58), 0.9);
    }
}

/* ðŸ”¹ Breathing effect animation for subtle elements */
@keyframes di-breathe {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }
    50% {
        transform: scale(1.02);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }
}

/* ðŸ”¹ Enhanced Loading animations */
@keyframes loading-spin {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

/* Spinner animation - used for loading indicators */
@keyframes spinner-rotate {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

/* Circular progress animation */
@keyframes progress-circle {
    0% {
        stroke-dasharray: 0, 100;
    }
    100% {
        stroke-dasharray: 100, 0;
    }
}

/* Number count animation - used with JS */
@keyframes number-grow {
    0% {
        opacity: 0;
        transform: translateY(10px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Loading dots animation */
@keyframes loading-dots {
    0% {
        opacity: 0.3;
        transform: scale(0.8);
    }
    50% {
        opacity: 1;
        transform: scale(1.2);
    }
    100% {
        opacity: 0.3;
        transform: scale(0.8);
    }
}

/* ðŸ”¹ Entrance animations for new overlays */
@keyframes overlay-enter {
    from {
        opacity: 0;
        transform: scale(0.8) translateY(-20px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

@keyframes overlay-exit {
    from {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
    to {
        opacity: 0;
        transform: scale(0.8) translateY(-20px);
    }
}

/* ðŸ”¹ Smooth state transitions */
.overlay-styled .overlay-card,
.overlay-styled .overlay-portal {
    /* Ensure smooth transitions between states */
    transition: var(--di-overlay-transition);
}

/* ðŸ”¹ Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .overlay-styled .overlay-card,
    .overlay-styled .overlay-portal,
    .overlay-styled .overlay-container {
        animation: none !important;
        transition: opacity var(--di-duration-fast) ease !important;
    }
    
    /* Keep essential functionality but remove complex animations */
    .overlay-styled .overlay-card--swipe-left,
    .overlay-styled .overlay-card--swipe-right {
        animation: none !important;
        opacity: 0;
        transform: translateX(0);
    }
}

/* ðŸ”¹ Performance optimizations */
.overlay-styled .overlay-card,
.overlay-styled .overlay-portal {
    /* Hint to browser for hardware acceleration */
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
}

/* ðŸ”¹ Enhanced state transition animations */
@keyframes di-expand {
    0% {
        transform: scale(0.9) translateY(-10px);
        opacity: 0.8;
        border-radius: calc(var(--overlay-collapsed-height) / 2);
    }
    70% {
        transform: scale(1.02) translateY(0);
        border-radius: calc(var(--di-border-radius) * 0.9);
    }
    100% {
        transform: scale(1) translateY(0);
        opacity: 1;
        border-radius: var(--di-border-radius);
    }
}

@keyframes di-collapse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    100% {
        transform: scale(0.95);
        opacity: 0;
    }
}

@keyframes di-morph-to-bubble {
    0% {
        border-radius: var(--di-border-radius);
    }
    100% {
        border-radius: 50%;
    }
}

/* Card swipe animation */
@keyframes di-swipe {
    0% {
        transform: translateX(0);
        opacity: 1;
    }
    100% {
        transform: translateX(calc(-100% - 24px));
        opacity: 0;
    }
}